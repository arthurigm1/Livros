<div *ngIf="loading" class="text-center text-gray-500">
  <p>Carregando seus livros favoritos...</p>
</div>

<div
  *ngIf="!loading && livrosFavoritos && livrosFavoritos.length > 0"
  class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-4"
  [@fadeInList]
>
  <div
    *ngFor="let livro of livrosFavoritos"
    class="livro-item bg-white rounded-lg shadow-lg p-4 hover:shadow-2xl transition-shadow duration-300"
    [@fadeInList]
  >
    <img
      [src]="livro.img"
      alt="Capa do Livro"
      class="w-full h-40 object-contain rounded-md mb-4"
    />

    <h3 class="text-xl font-semibold text-gray-800">{{ livro.titulo }}</h3>
    <p class="text-gray-600 text-sm">
      <strong>Autor:</strong> {{ livro.autor?.nome || "Autor não Cadastrado" }}
    </p>
    <p class="text-gray-600 text-sm">
      <strong>Ano de Publicação:</strong> {{ livro?.dataPublicacao }}
    </p>
    <p class="text-gray-600 text-sm">
      <strong>ISBN:</strong> {{ livro?.isbn }}
    </p>
    <p class="text-gray-800 font-bold mt-2">
      <strong>Preço:</strong> R$ {{ livro?.preco | number : "1.2-2" }}
    </p>

    <button
      (click)="removerfavorito(livro)"
      class="mt-4 w-full bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600 transition-colors duration-300 cursor-pointer"
    >
      Remover dos Favoritos
    </button>
  </div>
</div>

<p
  *ngIf="!loading && livrosFavoritos?.length === 0"
  class="text-center text-gray-500"
>
  Você ainda não tem livros favoritos.
</p>

<div *ngIf="errorMessage" class="text-red-500 text-center">
  {{ errorMessage }}
</div>
