<!-- Loading -->
<div *ngIf="isLoading" class="flex justify-center items-center min-h-screen">
  <div
    class="animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-[#063831]"
  ></div>
</div>

<!-- Main Content -->
<div *ngIf="!isLoading" class="mt-16 md:mt-20">
  <!-- Hero Banner -->
  <div class="relative w-full h-[200px] md:h-[300px] overflow-hidden">
    <swiper-container
      pagination="true"
      pagination-dynamic-bullets="true"
      autoplay-delay="3000"
      class="w-full h-full"
    >
      <swiper-slide *ngFor="let slide of slides" class="relative">
        <div
          class="absolute inset-0 bg-gradient-to-r from-black/40 to-transparent"
        ></div>
        <img
          [src]="slide.src"
          [alt]="slide.title"
          class="w-full h-full object-cover"
          loading="lazy"
        />
      </swiper-slide>
    </swiper-container>
  </div>

  <!-- Seção de Livros Mais Vendidos -->
  <section class="py-8 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold text-[#063831] text-center mb-6">
        Livros Mais Vendidos
      </h2>
      <swiper-container
        slides-per-view="auto"
        navigation="true"
        space-between="20"
        breakpoints='{
          "320": {"slidesPerView": 2, "spaceBetween": 10},
          "640": {"slidesPerView": 3, "spaceBetween": 15},
          "1024": {"slidesPerView": 5, "spaceBetween": 20}
        }'
      >
        <swiper-slide *ngFor="let livro of livros">
          <div class="bg-white rounded shadow-sm p-3 h-full flex flex-col">
            <div
              class="relative mb-3 overflow-hidden rounded cursor-pointer"
              (click)="selecionarLivro(livro.id)"
            >
              <img
                [src]="livro.img"
                [alt]="livro.titulo"
                class="w-full h-40 object-cover transition-transform duration-300 hover:scale-105"
              />
            </div>
            <h3
              class="text-sm font-semibold text-[#063831] mb-2 flex-grow line-clamp-2"
            >
              {{ livro.titulo }}
            </h3>
            <div class="mt-auto">
              <p class="text-lg font-bold text-[#b68d40] mb-2">
                R$ {{ livro.preco }}
              </p>
              <button
                (click)="adicionarLivroAoCarrinho(livro.id)"
                class="w-full bg-[#063831] text-white py-1.5 rounded hover:bg-opacity-90 transition-all text-sm"
              >
                Adicionar ao Carrinho
              </button>
            </div>
          </div>
        </swiper-slide>
      </swiper-container>
    </div>
  </section>

  <!-- Seção de Autores -->
  <section class="py-8 bg-[#f4ebd0]">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold text-[#063831] text-center mb-6">
        Nossos Autores
      </h2>
      <swiper-container
        slides-per-view="auto"
        navigation="true"
        space-between="20"
        breakpoints='{
          "320": {"slidesPerView": 3, "spaceBetween": 10},
          "640": {"slidesPerView": 4, "spaceBetween": 15},
          "1024": {"slidesPerView": 6, "spaceBetween": 20}
        }'
      >
        <swiper-slide *ngFor="let autor of autoresExibidos">
          <div class="flex flex-col items-center">
            <div
              class="w-20 h-20 md:w-24 md:h-24 mb-2 overflow-hidden rounded-full border-2 border-white shadow-sm"
            >
              <img
                [src]="autor.img"
                [alt]="autor.nome"
                class="w-full h-full object-cover transition-transform duration-300 hover:scale-110"
              />
            </div>
            <h3
              class="text-sm font-semibold text-[#063831] text-center line-clamp-2"
            >
              {{ autor.nome }}
            </h3>
          </div>
        </swiper-slide>
      </swiper-container>
    </div>
  </section>

  <!-- Seção de Livros de Tecnologia -->
  <section class="py-8 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold text-[#063831] text-center mb-6">
        Livros de Tecnologia
      </h2>
      <swiper-container
        slides-per-view="auto"
        navigation="true"
        space-between="20"
        breakpoints='{
          "320": {"slidesPerView": 2, "spaceBetween": 10},
          "640": {"slidesPerView": 3, "spaceBetween": 15},
          "1024": {"slidesPerView": 5, "spaceBetween": 20}
        }'
      >
        <swiper-slide *ngFor="let livro of livrotec">
          <div class="bg-white rounded shadow-sm p-3 h-full flex flex-col">
            <div
              class="relative mb-3 overflow-hidden rounded cursor-pointer"
              (click)="selecionarLivro(livro.id)"
            >
              <img
                [src]="livro.img"
                [alt]="livro.titulo"
                class="w-full h-40 object-cover transition-transform duration-300 hover:scale-105"
              />
            </div>
            <h3
              class="text-sm font-semibold text-[#063831] mb-2 flex-grow line-clamp-2"
            >
              {{ livro.titulo }}
            </h3>
            <div class="mt-auto">
              <p class="text-lg font-bold text-[#b68d40] mb-2">
                R$ {{ livro.preco }}
              </p>
              <button
                (click)="adicionarLivroAoCarrinho(livro.id)"
                class="w-full bg-[#063831] text-white py-1.5 rounded hover:bg-opacity-90 transition-all text-sm"
              >
                Adicionar ao Carrinho
              </button>
            </div>
          </div>
        </swiper-slide>
      </swiper-container>
    </div>
  </section>

  <!-- Seção de Editoras -->
  <section class="py-8 bg-[#f4ebd0]">
    <div class="container mx-auto px-4">
      <h2 class="text-2xl font-bold text-[#063831] text-center mb-6">
        Nossas Editoras
      </h2>
      <swiper-container
        slides-per-view="auto"
        navigation="true"
        space-between="20"
        breakpoints='{
          "320": {"slidesPerView": 3, "spaceBetween": 10},
          "640": {"slidesPerView": 4, "spaceBetween": 15},
          "1024": {"slidesPerView": 6, "spaceBetween": 20}
        }'
      >
        <swiper-slide *ngFor="let editora of editoras">
          <div class="flex flex-col items-center">
            <div
              class="w-20 h-20 md:w-24 md:h-24 mb-2 overflow-hidden rounded-full border-2 border-white shadow-sm"
            >
              <img
                [src]="editora.img"
                [alt]="editora.nome"
                class="w-full h-full object-cover transition-transform duration-300 hover:scale-110"
              />
            </div>
            <h3
              class="text-sm font-semibold text-[#063831] text-center line-clamp-2"
            >
              {{ editora.nome }}
            </h3>
          </div>
        </swiper-slide>
      </swiper-container>
    </div>
  </section>
</div>
